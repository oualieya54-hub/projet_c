.TH SCROLLKEEPER-UPDATE 8 "Dec 5, 2001" "scrollkeeper"
.SH NAME
scrollkeeper-update \- identify new, modified, or removed OMF 
files and update the scrollkeeper databases
.SH SYNOPSIS
.B "scrollkeeper-update"
[
.B \-v
]
[
.B \-q
]
[
.B \-n
]
[
.B \-p
.I database-directory
]
[
.B \-o
.I omf-directories
]
.SH DESCRIPTION
This synchronizes the scrollkeeper database with the OMF directory.  
It searches the scrollkeeper OMF directory to identify if any files 
were added, removed, or modified and updates its internal database
files to reflect any changes.  
.LP
This utility is generally executed as the last step of installation, 
after the OMF file is copied into place.  It is also typically the
last step of uninstallation, after the OMF file is removed.  Using this,
an administrator can easily manually install and uninstall documents
into the database.  It can also be run to guarantee the database is
fully up-to-date.
.LP
Note that because 
.B scrollkeeper-update
is normally run during installation and its output is typically
seen by users, non-critical warnings and errors such as those caused 
by invalid metadata are written to the log file instead of to the 
terminal. Developers should use the log file to identify any problems.

.SH OPTIONS
.TP
.B \-v
Be verbose:
Say which
.B scrollkeeper-install
and
.B scrollkeeper-uninstall
commands are being run to bring the database up to date.
.TP
.B \-q
Run in quiet mode, suppressing output of all but the most serious warning and
error messages to STDOUT.  Note that most output to the log file will be
unchanged.
.TP
.B \-n
Use the network to retrieve the DTD if it is not available via the system's XML
catalog.
.TP
\fB\-p\fP \fIdatabase-directory\fP 
Use \fIdatabase-directory\fP as the directory for the scrollkeeper database
rather than the usual one obtained by running
.B scrollkeeper-config
.BR \-\-pkglocalstatedir .
.TP
\fB\-o\fP \fIomf-directories\fP
Examine the directories named in
.I omf-directories
rather than the one usual one obtained by running
.B scrollkeeper-config
.BR \-\-omfdir 
(or specified in the 
.B OMF_DIR
environment variable if set).
The
.I omf-directories
should be a colon-separated list of directories.

.SH ENVIRONMENT
.TP
.SM OMF_DIR
If no
.B \-o
option is specified,
this variable overrides the
.BR scrollkeeper-config -provided
OMF directory.
It should be a colon-separated list of directories.

.SH FILES
.PD 0
.B /var/lib/scrollkeeper/scrollkeeper_docs
.br
.B /var/lib/scrollkeeper/TOC/<docnumber>
.br
.B /var/lib/scrollkeeper/<locale>/scrollkeeper_cl.xml
.br
.B /var/lib/scrollkeeper/<locale>/scrollkeeper_extended_cl.xml
.br
.B /var/log/scrollkeeper.log

.SH AUTHOR
Laszlo Kovacs   <laszlo.kovacs@sun.com>
.br
Dan Mueth       <d-mueth@uchicago.edu>

.SH SEE ALSO
scrollkeeper-config(1),
scrollkeeper-gen-seriesid(1),
scrollkeeper.conf(5),
scrollkeeper(7),
scrollkeeper-preinstall(8),
scrollkeeper-rebuilddb(8) 

